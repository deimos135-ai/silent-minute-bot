from apscheduler.schedulers.asyncio import AsyncIOScheduler
from apscheduler.triggers.cron import CronTrigger
import random
import datetime

messages = [
    "üïØ –†–∞–Ω–æ–∫. –¶—è —Ö–≤–∏–ª–∏–Ω–∞ ‚Äî –ø—Ä–æ –Ω–∏—Ö.\n–ü—Ä–æ —Ç–∏—Ö, –∑–∞–≤–¥—è–∫–∏ –∫–æ–º—É –º–∏ –∂–∏–≤—ñ.\n9:00 ‚Äî —Ö–≤–∏–ª–∏–Ω–∞ –º–æ–≤—á–∞–Ω–Ω—è.",
    "üïØ –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è\n–û 9:00 ‚Äî –∑–∞–≥–∞–ª—å–Ω–æ–Ω–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ —Ö–≤–∏–ª–∏–Ω–∞ –º–æ–≤—á–∞–Ω–Ω—è.\n–í—à–∞–Ω—É–π–º–æ —Ç–∏—Ö, —Ö—Ç–æ –≤—ñ–¥–¥–∞–≤ –∂–∏—Ç—Ç—è –∑–∞ –£–∫—Ä–∞—ó–Ω—É.",
    "üïØ –®–∞–Ω–æ–≤–Ω—ñ –∫–æ–ª–µ–≥–∏,\n\n–ù–∞–≥–∞–¥—É—î–º–æ, —â–æ —Å—å–æ–≥–æ–¥–Ω—ñ –æ 9:00 üïõ –º–∏ –≤—à–∞–Ω–æ–≤—É—î–º–æ –ø–∞–º‚Äô—è—Ç—å –∑–∞–≥–∏–±–ª–∏—Ö —Ö–≤–∏–ª–∏–Ω–æ—é –º–æ–≤—á–∞–Ω–Ω—è.\n\nüôè –ü—Ä–æ—Å–∏–º–æ –∑—É–ø–∏–Ω–∏—Ç–∏ —Ä–æ–±–æ—á—ñ –ø—Ä–æ—Ü–µ—Å–∏ —Ç–∞ –¥–æ–ª—É—á–∏—Ç–∏—Å—è –¥–æ —Ü—å–æ–≥–æ —Å–∏–º–≤–æ–ª—ñ—á–Ω–æ–≥–æ –∂–µ—Å—Ç—É –ø–æ–≤–∞–≥–∏ –¥–æ —Ç–∏—Ö, —Ö—Ç–æ –≤—ñ–¥–¥–∞–≤ —Å–≤–æ—î –∂–∏—Ç—Ç—è –∑–∞ üá∫üá¶ –£–∫—Ä–∞—ó–Ω—É.\n\nüíôüíõ –î—è–∫—É—î–º–æ –∑–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è.",
    "üïØ 9:00 ‚Äî —Ö–≤–∏–ª–∏–Ω–∞ –º–æ–≤—á–∞–Ω–Ω—è. –ó—É–ø–∏–Ω—ñ–º–æ—Å—è. –ó–≥–∞–¥–∞—î–º–æ. –í—à–∞–Ω—É–π–º–æ.",
    "üôè –ó–≥–∞–¥—É—î–º–æ —Ç–∏—Ö, —Ö—Ç–æ –≤—ñ–¥–¥–∞–≤ –∂–∏—Ç—Ç—è –∑–∞ –Ω–∞—Å. –û 9:00 ‚Äî —Ö–≤–∏–ª–∏–Ω–∞ –º–æ–≤—á–∞–Ω–Ω—è. –ù–µ –∑–∞–±—É–¥—å –∑—É–ø–∏–Ω–∏—Ç–∏—Å—è.",
    "üïØ –¶—ñ–Ω–∞ –Ω–∞—à–æ—ó —Å–≤–æ–±–æ–¥–∏ ‚Äî –∂–∏—Ç—Ç—è –ì–µ—Ä–æ—ó–≤. 9:00 ‚Äî –≤—à–∞–Ω—É—î–º–æ –º–æ–≤—á–∞–Ω–Ω—è–º.",
    "üïØ –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è: 9:00 ‚Äî –∑–∞–≥–∞–ª—å–Ω–æ–Ω–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ —Ö–≤–∏–ª–∏–Ω–∞ –º–æ–≤—á–∞–Ω–Ω—è. –ó–≥–∞–¥–∞—î–º–æ –Ω–∞—à–∏—Ö –∑–∞—Ö–∏—Å–Ω–∏–∫—ñ–≤.",
    "üôè –ü—Ä–æ—Å–∏–º–æ –æ 9:00 –∑—Ä–æ–±–∏—Ç–∏ –ø–∞—É–∑—É –≤ —Ä–æ–±–æ—Ç—ñ ‚Äî –¥–ª—è –≤—à–∞–Ω—É–≤–∞–Ω–Ω—è –ø–∞–º‚Äô—è—Ç—ñ –ì–µ—Ä–æ—ó–≤ –£–∫—Ä–∞—ó–Ω–∏.",
    "üïõ 9:00 ‚Äî —Ö–≤–∏–ª–∏–Ω–∞ –º–æ–≤—á–∞–Ω–Ω—è. –í—ñ–¥–¥–∞–π–º–æ —à–∞–Ω—É —Ç–∏–º, —Ö—Ç–æ –ø–æ–∫–ª–∞–≤ –∂–∏—Ç—Ç—è –∑–∞ –£–∫—Ä–∞—ó–Ω—É. üíôüíõ"
]

def get_random_message():
    return random.choice(messages)

async def send_messages(bot, chat_id):
    now = datetime.datetime.now().strftime('%H:%M:%S')
    text = get_random_message()
    print(f"[{now}] –ù–∞–¥—Å–∏–ª–∞—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ —á–∞—Ç {chat_id}")
    await bot.send_message(chat_id=int(chat_id), text=text)

async def setup_scheduler(bot, chat_id):
    scheduler = AsyncIOScheduler(timezone="Europe/Kyiv")

    # ‚úÖ –û—Å–Ω–æ–≤–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –æ 8:55 (–ø–Ω-–ø—Ç)
    scheduler.add_job(
        send_messages,
        trigger=CronTrigger(day_of_week='mon-fri', hour=10, minute=12),
        args=[bot, chat_id]
    )

    scheduler.start()
